<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="main.css">
    <script type = "text/javascript">
        let numOfGuesses = 0;
        let word = "adele";
        var numbersArray = ["zero", "one", "two", "three", "four"];

        function checkEnter(event, guessedword) {
            // Check if the Enter key was pressed (key code 13)
            if (event.keyCode === 13 && guessedword.length == 5) {
                // Call your JavaScript function here
                handleGuess(guessedword);
            }
        }

        function handleGuess(guessWord) {
            guess = guessWord.toLowerCase();
            if (numOfGuesses < 5)
            {
                for (i=0;i<5;i++)
                {
                    var iInString = "" + i;
                    var parentElementName = "guessRow" + numOfGuesses;
                    var parentRow = document.getElementById(parentElementName);
                    var wordElement = parentRow.querySelector("h2");
                    var letterElement = wordElement.querySelectorAll("span")[iInString];
                    letterElement.innerText = guess[i].toUpperCase();

                    if (word[i] == guess[i])
                    {
                        letterElement.style.background = "rgb(180, 211, 178)";
                        var text = letterElement.text;
                        console.log(text);
                    }
                    else {
                        for (j=0;j<5;j++)
                        {
                            if (word[j] == guess[i])
                            { 
                                console.log("j value: " + j);
                                console.log("word: " + word[j]);
                                console.log("guess: " + guess[i]);
                                if (letterElement.style.backgroundColor != "rgb(180, 211, 178)")
                                {
                                    letterElement.style.backgroundColor = "rgb(253, 253, 150)";
                                    console.log(guess[i] + " is now yellow.");
                                }
                                var text = letterElement.text;
                            }
                            else
                            {
                                if (letterElement.style.backgroundColor != "rgb(253, 253, 150)" && letterElement.style.backgroundColor != "rgb(180, 211, 178)")
                                {
                                    letterElement.style.backgroundColor = "rgb(194, 194, 194)";
                                    console.log(guess[i] + " is now grey.");
                                }
                            }
                        }
                    }
                }
                numOfGuesses++;
            }
            else {
                alert("No more guesses left!");
            }
        }
    </script>
</head>
</head>
<body>
    <div class="background-image">
        <div>
            <h1 id="titleText">Wurdle.</h1>
        </div>
        <div class="blur-area">
            <div class="otp-input-wrapper">
                <input id="partitioned" type="text" style="text-transform: uppercase;" maxlength="5" onkeyup="checkEnter(event, value)">
                <svg viewBox="0 0 240 1" xmlns="http://www.w3.org/2000/svg">
                    <line x1="0" y1="0" x2="240" y2="0" stroke="#3e3e3e" stroke-width="2" stroke-dasharray="31,22"/>
                  </svg>
            </div>
            <div class="guessRows">
                <div id="guessRow0">
                    <h2 class="guessedWord"><span class="zero"></span>
                        <span class="one"></span>
                        <span class="two"></span>
                        <span class="three"></span>
                        <span class="four"></span></h2>
                </div>
                <div id="guessRow1">
                    <h2 class="guessedWord"><span class="zero"></span>
                        <span class="one"></span>
                        <span class="two"></span>
                        <span class="three"></span>
                        <span class="four"></span></h2>
                </div>
                <div id="guessRow2">
                    <h2 class="guessedWord"><span class="zero"></span>
                        <span class="one"></span>
                        <span class="two"></span>
                        <span class="three"></span>
                        <span class="four"></span></h2>
                </div>
                <div id="guessRow3">
                    <h2 class="guessedWord"><span class="zero"></span>
                        <span class="one"></span>
                        <span class="two"></span>
                        <span class="three"></span>
                        <span class="four"></span></h2>
                </div>
                <div id="guessRow4">
                    <h2 class="guessedWord"><span class="zero"></span>
                        <span class="one"></span>
                        <span class="two"></span>
                        <span class="three"></span>
                        <span class="four"></span></h2>
                </div>
            </div>
        </div>
    </div>
</body>